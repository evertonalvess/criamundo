<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criamundo - Criando Hist√≥rias M√°gicas com IA</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/icons/favicon.ico">
</head>
<body>
    <div id="app">
        <!-- Tela Inicial -->
        <div id="home-screen" class="screen active">
            <div class="container">
                <div class="logo">
                    <h1>üåü Criamundo</h1>
                    <p class="subtitle">Criando Hist√≥rias M√°gicas com IA</p>
                </div>
                
                <div class="main-content">
                    <div class="hero-image">
                        <div class="story-illustration">
                            <div class="dragon">üêâ</div>
                            <div class="fairy">üßö‚Äç‚ôÄÔ∏è</div>
                            <div class="stars">‚≠ê</div>
                            <div class="ai-sparkle">‚ú®</div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button id="create-story-btn" class="btn btn-primary btn-large">
                            <span class="btn-icon">üé§</span>
                            <span class="btn-text">Criar Hist√≥ria com Voz</span>
                        </button>
                        
                        <button id="create-story-ai-btn" class="btn btn-secondary btn-large">
                            <span class="btn-icon">ü§ñ</span>
                            <span class="btn-text">Criar Hist√≥ria com IA</span>
                        </button>
                        
                        <div class="info-text">
                            <p>Conte sua hist√≥ria ou deixe a IA criar uma m√°gica para voc√™!</p>
                        </div>
                    </div>
                </div>
                
                <div class="footer">
                    <p>Para crian√ßas de 4 a 9 anos ‚Ä¢ Powered by AI</p>
                </div>
            </div>
        </div>

        <!-- Tela: Conte sua hist√≥ria -->
        <div id="voiceCaptureScreen" class="screen">
            <div class="header">
                <button class="back-btn" onclick="app.showMainMenu()">‚Üê Voltar</button>
                <h1>üé§ Conte sua hist√≥ria</h1>
            </div>
            
            <div class="content">
                <div class="voice-instructions">
                    <div class="instruction-text" id="instructionText">
                        <p>Oi amiguinho! üëã</p>
                        <p>Vou te ajudar a criar uma hist√≥ria m√°gica! ‚ú®</p>
                        <p>Primeiro, me conte sobre:</p>
                        <ul>
                            <li>üß∏ Que personagem voc√™ quer na hist√≥ria?</li>
                            <li>üåç Onde a hist√≥ria vai acontecer?</li>
                            <li>üé≠ Que aventura voc√™ quer?</li>
                        </ul>
                        <p>Pode falar tudo que vier na sua cabe√ßa! üòä</p>
                    </div>
                    <button class="pause-btn" id="pauseBtn" onclick="app.toggleInstructions()">
                        ‚è∏Ô∏è Pausar
                    </button>
                </div>
                
                <div class="voice-capture-area">
                    <div class="microphone-animation" id="micAnimation">
                        <div class="mic-icon">üé§</div>
                        <div class="pulse-ring"></div>
                    </div>
                    
                    <div class="voice-status" id="voiceStatus">
                        <p>Aguardando voc√™ falar...</p>
                    </div>
                    
                    <div class="captured-text" id="capturedText">
                        <!-- Texto capturado aparecer√° aqui -->
                    </div>
                    
                    <div class="voice-controls">
                        <button class="voice-btn" id="startVoiceBtn" onclick="app.startVoiceCapture()">
                            üé§ Come√ßar a Gravar
                        </button>
                        <button class="voice-btn" id="stopVoiceBtn" onclick="app.stopVoiceCapture()" style="display: none;">
                            ‚èπÔ∏è Parar Grava√ß√£o
                        </button>
                        <button class="play-btn" id="playThemeBtn" onclick="app.playCapturedTheme()" style="display: none;">
                            ‚ñ∂Ô∏è Ouvir o que eu falei
                        </button>
                    </div>
                </div>
                
                <div class="story-creation">
                    <button class="create-story-btn" id="createStoryBtn" onclick="app.createStoryFromVoice()" style="display: none;">
                        ‚ú® Criar Minha Hist√≥ria M√°gica!
                    </button>
                </div>
            </div>
        </div>

        <!-- Tela de Configura√ß√£o de IA -->
        <div id="ai-config-screen" class="screen">
            <div class="container">
                <div class="ai-header">
                    <button id="back-from-ai-btn" class="btn btn-secondary btn-small">
                        <span>‚Üê</span> Voltar
                    </button>
                    <h2>Criar Hist√≥ria com IA</h2>
                </div>
                
                <div class="ai-content">
                    <div class="ai-options">
                        <div class="option-group">
                            <label for="story-theme">Tema da Hist√≥ria:</label>
                            <select id="story-theme" class="form-select">
                                <option value="">Escolha um tema...</option>
                                <option value="amizade">Amizade</option>
                                <option value="coragem">Coragem</option>
                                <option value="coopera√ß√£o">Coopera√ß√£o</option>
                                <option value="criatividade">Criatividade</option>
                                <option value="perseveran√ßa">Perseveran√ßa</option>
                                <option value="bondade">Bondade</option>
                                <option value="responsabilidade">Responsabilidade</option>
                                <option value="curiosidade">Curiosidade</option>
                            </select>
                        </div>
                        
                        <div class="option-group">
                            <label for="story-characters">Personagens:</label>
                            <select id="story-characters" class="form-select">
                                <option value="">Escolha personagens...</option>
                                <option value="animais">Animais</option>
                                <option value="criaturas m√°gicas">Criaturas M√°gicas</option>
                                <option value="crian√ßas">Crian√ßas</option>
                                <option value="super-her√≥is">Super-Her√≥is</option>
                                <option value="princesas e pr√≠ncipes">Princesas e Pr√≠ncipes</option>
                                <option value="profissionais">Profissionais</option>
                            </select>
                        </div>
                        
                        <div class="option-group">
                            <label for="story-scenario">Cen√°rio:</label>
                            <input type="text" id="story-scenario" class="form-input" 
                                   placeholder="Ex: floresta m√°gica, castelo no c√©u...">
                        </div>
                    </div>
                    
                    <div class="ai-controls">
                        <button id="generate-ai-story-btn" class="btn btn-primary btn-large">
                            <span class="btn-icon">ü§ñ</span>
                            <span class="btn-text">Criar Hist√≥ria M√°gica</span>
                        </button>
                        
                        <button id="random-story-btn" class="btn btn-secondary btn-large">
                            <span class="btn-icon">üé≤</span>
                            <span class="btn-text">Hist√≥ria Surpresa</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tela de Carregamento -->
        <div id="loading-screen" class="screen">
            <div class="container">
                <div class="loading-content">
                    <div class="loading-animation">
                        <div class="spinner"></div>
                        <div class="stars-loading">
                            <span>‚≠ê</span>
                            <span>‚≠ê</span>
                            <span>‚≠ê</span>
                        </div>
                        <div class="ai-loading">
                            <span>ü§ñ</span>
                        </div>
                    </div>
                    
                    <h2 id="loading-title">Criando sua hist√≥ria m√°gica...</h2>
                    <p id="loading-text" class="loading-text">Aguardando sua voz...</p>
                    
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tela de Leitura -->
        <div id="story-screen" class="screen">
            <div class="container">
                <div class="story-header">
                    <button id="back-btn" class="btn btn-secondary btn-small">
                        <span>‚Üê</span> Voltar
                    </button>
                    <h2 id="story-title">O Drag√£o Estelar e a Fada Azul</h2>
                    <div class="story-meta">
                        <span id="story-source" class="story-source">IA</span>
                    </div>
                </div>
                
                <div class="story-content">
                    <div class="story-image">
                        <div class="story-illustration-large">
                            <div class="dragon-large">üêâ</div>
                            <div class="fairy-large">üßö‚Äç‚ôÄÔ∏è</div>
                            <div class="stars-large">‚≠ê‚≠ê‚≠ê</div>
                            <div class="moon">üåô</div>
                        </div>
                    </div>
                    
                    <div class="story-text">
                        <div id="story-paragraphs">
                            <!-- Conte√∫do da hist√≥ria ser√° inserido via JavaScript -->
                        </div>
                    </div>
                    
                    <div class="story-controls">
                        <button id="listen-btn" class="btn btn-primary">
                            <span class="btn-icon">üîä</span>
                            <span class="btn-text">Ouvir Hist√≥ria</span>
                        </button>
                        
                        <button id="save-share-btn" class="btn btn-secondary">
                            <span class="btn-icon">üíæ</span>
                            <span class="btn-text">Salvar & Compartilhar</span>
                        </button>
                        
                        <button id="new-story-btn" class="btn btn-tertiary">
                            <span class="btn-icon">‚ú®</span>
                            <span class="btn-text">Nova Hist√≥ria</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tela de Salvar/Compartilhar -->
        <div id="save-share-screen" class="screen">
            <div class="container">
                <div class="save-share-header">
                    <button id="back-to-story-btn" class="btn btn-secondary btn-small">
                        <span>‚Üê</span> Voltar
                    </button>
                    <h2>Salvar & Compartilhar</h2>
                </div>
                
                <div class="save-share-content">
                    <div class="story-preview">
                        <h3 id="preview-title">O Drag√£o Estelar e a Fada Azul</h3>
                        <div class="preview-image">
                            <div class="story-illustration-preview">
                                <div class="dragon-preview">üêâ</div>
                                <div class="fairy-preview">üßö‚Äç‚ôÄÔ∏è</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-options">
                        <button class="btn btn-primary btn-large">
                            <span class="btn-icon">üíæ</span>
                            <span class="btn-text">Salvar Hist√≥ria</span>
                        </button>
                        
                        <button class="btn btn-secondary btn-large">
                            <span class="btn-icon">üì±</span>
                            <span class="btn-text">Compartilhar</span>
                        </button>
                        
                        <button class="btn btn-tertiary btn-large">
                            <span class="btn-icon">üñ®Ô∏è</span>
                            <span class="btn-text">Imprimir</span>
                        </button>
                        
                        <button id="new-story-btn" class="btn btn-primary btn-large">
                            <span class="btn-icon">‚ú®</span>
                            <span class="btn-text">Criar Nova Hist√≥ria</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/ai-manager.js"></script>
    <script src="js/voice-manager.js"></script>
    <script src="script.js"></script>
</body>
</html> 